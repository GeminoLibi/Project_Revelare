<!-- Hobbyist Navigation Component -->
<header class="bg-black border-b border-gray-800 fixed top-0 left-0 right-0 z-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between h-16">
            <!-- Logo -->
            <a href="/index.html" class="text-xl font-bold text-white flex items-center gap-2">
                <i class="fas fa-search"></i> Project Revelare
            </a>
            
            <!-- Navigation Links -->
            <nav class="hidden md:flex items-center space-x-6">
                <a href="/hob/dashboard.html" class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Dashboard</a>
                <a href="/pub/cybersecurity-news.html" class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium">News</a>
                <a href="/hob/forum.html" class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Forum</a>
                <a href="/pub/gumshoe/shared/gumshoe-terminal.html" class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Gumshoe</a>
                <a href="/pub/free-resources.html" class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Resources</a>
            </nav>
            
            <!-- User Section -->
            <div class="flex items-center gap-4">
                <span id="userInfo" class="text-gray-300 text-sm cursor-pointer hover:text-white" onclick="window.location.href='/hob/dashboard.html'">Loading...</span>
                <button onclick="logout()" class="bg-gray-800 hover:bg-gray-700 text-white px-3 py-2 rounded-md text-sm font-medium">Logout</button>
            </div>
            
            <!-- Mobile menu button -->
            <button id="mobileMenuBtn" class="md:hidden text-white hover:text-gray-300">
                <i class="fas fa-bars"></i>
            </button>
        </div>
        
        <!-- Mobile menu -->
        <div id="mobileMenu" class="md:hidden hidden bg-gray-900 rounded-lg mt-2 p-4">
            <div class="flex flex-col space-y-2">
                <a href="/hob/dashboard.html" class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Dashboard</a>
                <a href="/pub/cybersecurity-news.html" class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium">News</a>
                <a href="/hob/forum.html" class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Forum</a>
                <a href="/pub/gumshoe/shared/gumshoe-terminal.html" class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Gumshoe</a>
                <a href="/pub/free-resources.html" class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Resources</a>
                <button onclick="logout()" class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Logout</button>
            </div>
        </div>
    </div>
</header>

<!-- Breadcrumb -->
<nav class="breadcrumb-nav pt-20 pb-4 bg-black">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <ol class="flex items-center space-x-2 text-sm text-gray-400">
            <li><a href="/index.html" class="hover:text-white transition">Home</a></li>
            <li><i class="fas fa-chevron-right text-xs"></i></li>
            <li class="text-white font-medium" id="currentPage">Current Page</li>
        </ol>
    </div>
</nav>

<script>
// API_BASE_URL is defined in the main page

// Mobile menu toggle
function toggleMobileMenu() {
    const mobileMenu = document.getElementById('mobileMenu');
    mobileMenu.classList.toggle('hidden');
}

// Logout function
async function logout() {
    try {
        await fetch(`${API_BASE_URL}/api/logout`, { 
            method: 'POST',
            credentials: 'include' // Include cookies
        });
        window.location.href = '/index.html';
    } catch (error) {
        console.error('Logout error:', error);
        window.location.href = '/index.html';
    }
}

// Load user info
async function loadUserInfo() {
    try {
        const response = await fetch(`${API_BASE_URL}/api/me`, {
            credentials: 'include' // Include cookies
        });

        if (response.ok) {
            const userData = await response.json();
            const userInfo = document.getElementById('userInfo');
            if (userInfo) {
                userInfo.textContent = `${userData.firstName} ${userData.lastName}`;
            }
        }
    } catch (error) {
        console.error('Failed to load user info:', error);
    }
}

// Initialize
document.addEventListener('DOMContentLoaded', function() {
    const mobileMenuBtn = document.getElementById('mobileMenuBtn');
    if (mobileMenuBtn) {
        mobileMenuBtn.addEventListener('click', toggleMobileMenu);
    }
    
    // Set current page in breadcrumb
    const currentPage = document.getElementById('currentPage');
    if (currentPage) {
        const pageTitle = document.title.split(' - ')[0];
        currentPage.textContent = pageTitle;
    }
    
    // Load user info
    loadUserInfo();
});
</script>

